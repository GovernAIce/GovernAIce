<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GovernAIce Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/react@18/umd/react.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.24.0/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;600;700&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap');
    .custom-border { border: 2px solid #1975d4; }
    .custom-bg { background-color: #e6f0fa; }
    .custom-button { background: linear-gradient(180deg, #9fd8ff, #1975d4); }
    .sidebar-item { @apply text-left p-2 rounded hover:bg-gray-200; }
    .selected { @apply bg-blue-200; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    // Suppress console warnings for CDN usage
    const originalWarn = console.warn;
    console.warn = (...args) => {
      if (
        args[0].includes('cdn.tailwindcss.com') ||
        args[0].includes('in-browser Babel transformer')
      ) {
        return;
      }
      originalWarn(...args);
    };

    const { useState, useEffect } = React;

    // Simulated Lucide Icons
    const icons = {
      Upload: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/></svg>,
      Search: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>,
      X: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M18 6 6 18M6 6l12 12"/></svg>,
      Info: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4m0-4h.01"/></svg>,
      ChevronDown: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="m19 9-7 7-7-7"/></svg>,
      ChevronLeft: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="m15 18-6-6 6-6"/></svg>,
      ChevronRight: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="m9 18 6-6-6-6"/></svg>,
      Send: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="m3 3 18 8.5L3 20V3Z"/></svg>,
      Home: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>,
      FileText: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6Z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></svg>,
      Target: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>,
      Shield: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10Z"/></svg>,
      BarChart3: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="3" y="3" width="6" height="12"/><rect x="9" y="3" width="6" height="18"/><rect x="15" y="3" width="6" height="6"/></svg>,
      Users: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/></svg>,
      Building: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="9" x2="9" y1="3" y2="21"/><line x1="15" x2="15" y1="3" y2="21"/><line x1="3" x2="21" y1="9" y2="9"/><line x1="3" x2="21" y1="15" y2="15"/></svg>,
      Folder: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 7v10a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-6l-2-2H5a2 2 0 0 0-2 2Z"/></svg>,
      User: ({ className }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
    };

    // API Utility
    const apiRequest = async (method, url, data = null, isFormData = false) => {
      try {
        const options = {
          method,
          headers: isFormData ? {} : { 'Content-Type': 'application/json' },
        };
        if (data) {
          options.body = isFormData ? data : JSON.stringify(data);
        }
        const response = await fetch(url, options);
        if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }
        return await response.json();
      } catch (error) {
        console.error('API Error:', error);
        throw error;
      }
    };

    // Custom Components
    const Button = ({ variant = "default", className = "", children, ...props }) => (
      <button
        className={`px-4 py-2 rounded ${variant === "ghost" ? "bg-transparent text-[#9ea2ae] hover:text-[#000000]" : variant === "outline" ? "border border-[#d9d9d9] bg-transparent text-[#9ea2ae] hover:text-[#000000]" : "custom-button text-white"} ${className}`}
        {...props}
      >
        {children}
      </button>
    );

    const Input = ({ className = "", ...props }) => (
      <input className={`w-full border border-[#d9d9d9] rounded p-2 ${className}`} {...props} />
    );

    const Card = ({ className = "", children, ...props }) => (
      <div className={`bg-white rounded-lg p-5 ${className}`} {...props}>
        {children}
      </div>
    );

    const Badge = ({ className = "", children, ...props }) => (
      <span className={`px-3 py-1 rounded-full bg-[#1975d4] text-white ${className}`} {...props}>
        {children}
      </span>
    );

    // Menu Component
    const Menu = ({ projectName, onSelect }) => {
      const [selected, setSelected] = useState(null);

      const menuItems = [
        { type: "header", label: "Menu" },
        { type: "item", label: "Home", icon: "Home", index: 0 },
        { type: "header", label: "Tools" },
        { type: "item", label: "Use Case 1 Policy Analysis", icon: "FileText", index: 1 },
        { type: "item", label: "Opportunity Identification", icon: "Target", index: 2 },
        { type: "item", label: "Use Case 3 Compliance Risk Assessment", icon: "Shield", index: 3 },
        { type: "item", label: "Reports Generation", icon: "BarChart3", index: 4 },
        { type: "item", label: "Policy Engagement", icon: "Users", index: 5 },
        { type: "item", label: "Vendor Management", icon: "Building", index: 6 },
        { type: "item", label: "Use Case 4 Generate Compliance Report Suite", icon: "FileText", index: 7 },
        { type: "item", label: "Use Case 5 and 6 Generate Policy Feedback & Liaison Report", icon: "Users", index: 8 },
        { type: "item", label: "Use Case 2 - Policy Opportunity Discovery", icon: "Target", index: 9 },
        { type: "header", label: "Project Folders:" },
        { type: "item", label: projectName, icon: "Folder", index: 10 },
        { type: "item", label: "UX@Berkeley", icon: "Folder", index: 11 },
        { type: "header", label: "Reports:" },
        { type: "item", label: "Feb. 28th - 9:46am", icon: "FileText", index: 12 },
        { type: "item", label: "Jan. 5th - 11:53am", icon: "FileText", index: 13 },
        { type: "item", label: "Jan. 7th - 12:11am", icon: "FileText", index: 14 },
        { type: "item", label: "Jan. 30th - 6:40pm", icon: "FileText", index: 15 },
        { type: "header", label: "Team Members" },
        { type: "item", label: "Name Name", icon: "User", index: 16 },
        { type: "item", label: "Name Name", icon: "User", index: 17 },
        { type: "item", label: "Name Name", icon: "User", index: 18 },
        { type: "item", label: "Name Name", icon: "User", index: 19 },
        { type: "item", label: "Name Name", icon: "User", index: 20 },
      ];

      const handleSelect = (index) => {
        setSelected(index);
        onSelect(index);
      };

      return (
        <div className="w-64 h-screen bg-white flex flex-col border-r border-[#d9d9d9] rounded-r-lg shadow-lg">
          <div className="px-4 py-4 border-b border-[#f0f0f0] flex items-center gap-2">
            <img src="/public/icons/LogoVector.svg" alt="Logo" className="w-6 h-6" />
            <span className="text-[20.13px] text-[#1975d4] font-bold" style={{ fontFamily: "'Libre Baskerville', serif", width: "123px" }}>
              GovernAIce
            </span>
          </div>
          <div className="flex-1 overflow-y-auto px-2 py-2">
            {menuItems.map((item, index) =>
              item.type === "header" ? (
                <h3 key={index} className="text-[#9ea2ae] text-xs font-semibold mt-4 mb-1 px-2">
                  {item.label}
                </h3>
              ) : (
                <button
                  key={index}
                  onClick={() => handleSelect(item.index)}
                  className={`w-full flex items-center gap-2 px-3 py-1 text-sm rounded-none ${
                    selected === item.index ? "bg-gray-200 text-[#1975d4] font-bold" : "text-black hover:bg-gray-100"
                  }`}
                  disabled={item.type === "header"}
                >
                  {item.icon && React.createElement(icons[item.icon], {
                    className: `w-4 h-4 ${selected === item.index ? "text-[#1975d4]" : "text-black"}`,
                  })}
                  <span className="truncate">{item.label}</span>
                </button>
              )
            )}
          </div>
          <div className="p-4 border-t border-[#f0f0f0] flex items-center gap-2">
            <div className="w-8 h-8 bg-[#d9d9d9] rounded-full flex items-center justify-center">
              {React.createElement(icons["User"], { className: "w-4 h-4 text-[#9ea2ae]" })}
            </div>
            <span className="text-sm text-[#000000] font-medium">Name Name</span>
          </div>
        </div>
      );
    };

    // Header Component
    const Header = ({ projectName, setProjectName }) => {
      const [editMode, setEditMode] = useState(false);
      const [currentTime, setCurrentTime] = useState("");

      useEffect(() => {
        const updateTime = () => {
          const now = new Date();
          setCurrentTime(
            now.toLocaleString("en-US", {
              hour: "2-digit",
              minute: "2-digit",
              hour12: true,
              timeZone: "Asia/Kolkata",
            })
          );
        };
        updateTime();
        const interval = setInterval(updateTime, 60000);
        return () => clearInterval(interval);
      }, []);

      return (
        <div className="bg-white border-b border-[#d9d9d9] p-6">
          <div className="flex items-center justify-between">
            <div className="flex flex items-center gap-8">
              <h2 className="text-[#1975d4] text-2xl font-semibold">Good Evening Yan</h2>
              {editMode ? (
                <input
                  type="text"
                  value={projectName}
                  onChange={(e) => setProjectName(e.target.value)}
                  className="text-[#1975d4] text-2xl font-semibold border border-[#d9d9d9] rounded p-2 w-64 focus:outline-none focus:ring-2 focus:ring-[#1975d4]"
                  placeholder="Enter project name"
                  aria-label="Edit project name"
                />
              ) : (
                <h3 className="text-[#1975d4] text-2xl font-semibold">{projectName}</h3>
              )}
            </div>
            <div className="flex items-center gap-4">
              <span className="text-[#9ea2ae] text-sm">last updated: Jul 12, 2025 - {currentTime} IST</span>
              <div className="flex items-center gap-2">
                <span className="text-[#1975d4] font-semibold text-lg bg-white border-2 border-[#1975d4] px-4 py-1 rounded">Edit Mode</span>
                <label className="relative inline-flex items-center cursor-pointer" aria-label="Toggle Edit Mode">
                  <input
                    type="checkbox"
                    className="sr-only peer"
                    checked={editMode}
                    onChange={() => setEditMode(!editMode)}
                  />
                  <div className="w-14 h-7 bg-gray-300 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-[#1975d4] rounded-full peer peer-checked:bg-[#1975d4] peer-checked:after:translate-x-7 after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all"></div>
                </label>
              </div>
            </div>
          </div>
        </div>
      );
    };

    // UploadProjectWidget Component
    const UploadProjectWidget = ({ selectedMenuItem }) => {
      const [file, setFile] = useState(null);
      const [error, setError] = useState(null);
      const [uploadStatus, setUploadStatus] = useState(null);

      const handleFileUpload = async (e) => {
        const selectedFile = e.target.files[0];
        setFile(selectedFile);
        setError(null);
        setUploadStatus(null);

        if (!selectedFile) return;

        const formData = new FormData();
        formData.append('file', selectedFile);
        formData.append('countries', JSON.stringify(['EU', 'Canada']));
        formData.append('policies', JSON.stringify(['General Data Protection Regulation', 'Canada Artificial Intelligence and Data Act (AIDA)-proposed']));
        if (selectedMenuItem === 2 || selectedMenuItem === 9) {
          formData.append('domains', JSON.stringify(['AI', 'Government Subsidies']));
        } else if (selectedMenuItem === 7) {
          formData.append('domains', JSON.stringify(['Healthcare', 'Technology']));
        }

        let endpoint;
        switch (selectedMenuItem) {
          case 1: endpoint = 'http://localhost:5001/upload-and-analyze/'; break;
          case 3: endpoint = 'http://localhost:5001/upload-regulatory-compliance/'; break;
          case 7: endpoint = 'http://localhost:5000/regulatory-reports/generate/upload/'; break;
          case 9: endpoint = 'http://localhost:5000/policy-opportunities/upload/'; break;
          default: endpoint = 'http://localhost:5001/upload-and-analyze/';
        }

        try {
          const response = await apiRequest('POST', endpoint, formData, true);
          setUploadStatus('Upload successful!');
          console.log('API Response:', response);
        } catch (err) {
          setError('Upload failed. Please try again.');
        }
      };

      return (
        <Card className="custom-border relative p-4">
          <img src="/public/icons/info.svg" alt="Info" className="absolute top-2 right-2 w-4 h-4 cursor-pointer" />
          <div className="flex flex-col items-center gap-2.5">
            <div className="w-28 h-32 custom-bg rounded-lg flex items-center justify-center">
              <input
                type="file"
                accept=".doc,.pdf,.jpg"
                onChange={handleFileUpload}
                className="absolute opacity-0 w-full h-full cursor-pointer"
              />
              <img src="/public/icons/Upload.svg" alt="Upload Icon" />
            </div>
            <h3 className="text-xl text-[#1975d4] font-bold">Upload Project</h3>
            <p className="text-sm text-black text-center">
              Please upload your product illustration: doc, pdf, jpg...
            </p>
            {error && <p className="text-sm text-red-500">{error}</p>}
            {uploadStatus && <p className="text-sm text-green-500">{uploadStatus}</p>}
          </div>
        </Card>
      );
    };

    // ExplorePolicyWidget Component
  const ExplorePolicyWidget = ({ selectedMenuItem }) => {
  const [searchQuery, setSearchQuery] = useState("");
  const [selectedCountry, setSelectedCountry] = useState("Country");
  const [selectedDomain, setSelectedDomain] = useState("Domain");
  const [results, setResults] = useState([]);

  const [countries, setCountries] = useState([]);
  const [domains, setDomains] = useState([]);

  // ✅ Fetch dropdown values on component mount
  useEffect(() => {
    const fetchMetadata = async () => {
      try {
        // const countryResponse = await fetch("http://localhost:5002/metadata/countries/");
        // const countryData = await countryResponse.json();
        // setCountries(countryData?.countries || []);

        const domainResponse = await fetch("http://localhost:5002/metadata/domains/");
        const domainData = await domainResponse.json();
        setDomains(domainData?.domains || []);
      } catch (err) {
        console.error("Failed to fetch metadata:", err);
      }
    };

    fetchMetadata();
  }, []);

  const handleSearch = async () => {
    if (!searchQuery && selectedMenuItem !== 7) return;

    let endpoint;
    if (selectedMenuItem === 1) {
      endpoint = `http://localhost:5002/documents/search/?query=${encodeURIComponent(searchQuery)}`;
    } else if (selectedMenuItem === 7) {
      endpoint = `http://localhost:5002/regulatory-reports/search/?country=${encodeURIComponent(selectedCountry)}&domain=${encodeURIComponent(selectedDomain)}`;
    } else {
      return;
    }

    try {
      const response = await fetch(endpoint);
      const data = await response.json();
      setResults(Array.isArray(data) ? data : []);
    } catch (err) {
      console.error("Search Error:", err);
    }
  };

  return (
    <Card className="custom-border relative p-4">
      <img src="/public/icons/info.svg" alt="Info" className="absolute top-2 right-2 w-4 h-4 cursor-pointer" />
      <div className="flex flex-col gap-2.5">
        <h3 className="text-xl text-[#1975d4] font-bold">Explore Policy</h3>

        {/* Search Bar */}
        <div className="relative">
          {React.createElement(icons["Search"], {
            className: "absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#9ea2ae]",
          })}
          <Input
            placeholder="Search"
            className="pl-10 pr-10 text-sm text-gray-800 bg-transparent outline-none"
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
            onKeyPress={(e) => e.key === "Enter" && handleSearch()}
          />
          {searchQuery && React.createElement(icons["X"], {
            className: "absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#9ea2ae] cursor-pointer",
            onClick: () => setSearchQuery(""),
          })}
        </div>

        {/* Country Dropdown */}
        <select
          className="custom-border rounded-lg p-2 text-sm w-full appearance-none bg-transparent"
          value={selectedCountry}
          onChange={(e) => setSelectedCountry(e.target.value)}
        >
          <option>Country</option>
          {countries.map((country, index) => (
            <option key={index} value={country}>
              {country}
            </option>
          ))}
        </select>

        {/* ✅ Fixed Domain Dropdown */}
        <select
          className="custom-border rounded-lg p-2 text-sm w-full appearance-none bg-transparent"
          value={selectedDomain}
          onChange={(e) => setSelectedDomain(e.target.value)}
        >
          <option>Domain</option>
          {domains.map((domain, index) => (
            <option key={index} value={domain}>
              {domain}
            </option>
          ))}
        </select>

        <Button className="w-full text-white text-sm" onClick={handleSearch}>
          Compare
        </Button>

        {/* Results Section */}
        {results.length > 0 && (
          <div className="mt-4">
            <h4 className="text-sm text-[#1975d4] font-bold">Results</h4>
            <ul className="list-disc pl-5 text-sm text-black">
              {results.map((result, index) => (
                <li key={index}>{result.title || result.id || "Untitled"}</li>
              ))}
            </ul>
          </div>
        )}
      </div>
    </Card>
  );
};


    // Other Components
    const OECDScoreWidget = () => (
      <Card className="custom-border relative p-4">
        <img src="/public/icons/info.svg" alt="Info" className="absolute top-2 right-2 w-4 h-4 cursor-pointer" />
        <div className="flex flex-col gap-2.5 items-center">
          <h3 className="text-xl text-[#1975d4] font-bold">OECD Score: 80</h3>
          <p className="text-sm text-black">
            Compare use case to the OECD AI Risk Framework and give an overall score about the compliance level
          </p>
          <div className="w-full h-70 flex items-center">
            <svg viewBox="0 0 200 200" className="w-full h-full">
              <polygon points="100,20 150,50 170,100 150,150 100,180 50,150 30,100 50,50" fill="none" stroke="#d9d9d9" strokeWidth="1"/>
              <polygon points="100,40 130,60 150,100 130,140 100,160 70,140 50,100 70,60" fill="none" stroke="#d9d9d9" strokeWidth="1"/>
              <polygon points="100,60 110,80 130,100 110,120 100,140 90,120 70,100 90,80" fill="none" stroke="#d9d9d9" strokeWidth="1"/>
              <polygon points="100,30 140,65 160,100 140,135 100,170 60,135 40,100 60,65" fill="#1975d4" fillOpacity="0.3" stroke="#1975d4" strokeWidth="2"/>
              <line x1="100" y1="100" x2="100" y2="20" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="150" y2="50" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="170" y2="100" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="150" y2="150" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="100" y2="180" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="50" y2="150" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="30" y2="100" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="50" y2="50" stroke="#d9d9d9" strokeWidth="1"/>
            </svg>
          </div>
        </div>
      </Card>
    );

    const NISTAILifecycleWidget = () => (
      <Card className="custom-border relative p-4">
        <img src="/public/icons/info.svg" alt="Info" className="absolute top-2 right-2 w-4 h-4 cursor-pointer" />
        <div className="flex flex-col gap-2.5 items-center">
          <h3 className="text-xl text-[#f9844a] font-bold">NIST AI Lifecycle: 60/75</h3>
          <p className="text-sm text-black">
            Compare use case to the NIST AI Lifecycle framework and give overall scores about both the risk and mitigability levels
          </p>
          <div className="w-full h-70 flex items-center">
            <svg viewBox="0 0 200 200" className="w-full h-full">
              <polygon points="100,20 150,50 170,100 150,150 100,180 50,150 30,100 50,50" fill="none" stroke="#f9844a" strokeWidth="1"/>
              <polygon points="100,40 130,60 150,100 130,140 100,160 70,140 50,100 70,60" fill="none" stroke="#f9844a" strokeWidth="1"/>
              <polygon points="100,60 110,80 130,100 110,120 100,140 90,120 70,100 90,80" fill="none" stroke="#f9844a" strokeWidth="1"/>
              <polygon points="100,30 140,65 160,100 140,135 100,170 60,135 40,100 60,65" fill="#f9844a" fillOpacity="0.3" stroke="#f9844a" strokeWidth="2"/>
              <line x1="100" y1="100" x2="100" y2="20" stroke="#f9844a" strokeWidth="1"/>
              <line x1="100" y1="100" x2="150" y2="50" stroke="#f9844a" strokeWidth="1"/>
              <line x1="100" y1="100" x2="170" y2="100" stroke="#f9844a" strokeWidth="1"/>
              <line x1="100" y1="100" x2="150" y2="150" stroke="#f9844a" strokeWidth="1"/>
              <line x1="100" y1="100" x2="100" y2="180" stroke="#f9844a" strokeWidth="1"/>
              <line x1="100" y1="100" x2="50" y2="150" stroke="#f9844a" strokeWidth="1"/>
              <line x1="100" y1="100" x2="30" y2="100" stroke="#f9844a" strokeWidth="1"/>
              <line x1="100" y1="100" x2="50" y2="50" stroke="#f9844a" strokeWidth="1"/>
            </svg>
          </div>
        </div>
      </Card>
    );

    const EURiskLevelFrameworkWidget = () => (
      <Card className="custom-border relative p-4">
        <img src="/public/icons/info.svg" alt="Info" className="absolute top-2 right-2 w-4 h-4 cursor-pointer" />
        <div className="flex flex-col gap-2.5 items-center">
          <h3 className="text-xl text-[#f9c74f] font-bold">EU Risk Level Framework: 5/8</h3>
          <p className="text-sm text-black">
            Compare use case to the EU AI Risk Framework and give overall score about the risk and mitigation levels
          </p>
          <div className="w-full h-70 flex items-center">
            <div className="relative w-full h-full p-4">
              <div className="flex items-end justify-center h-full gap-2">
                <div className="flex flex-col items-center gap-1">
                  <div className="flex gap-1">
                    <div className="w-4 h-16 bg-[#f9c74f] rounded-t"></div>
                    <div className="w-4 h-12 bg-[#f9c74f] rounded-t"></div>
                    <div className="w-4 h-20 bg-[#f9c74f] rounded-t"></div>
                  </div>
                  <span className="text-xs text-[#9ea2ae]">Figma</span>
                </div>
                <div className="flex flex-col items-center gap-1">
                  <div className="flex gap-1">
                    <div className="w-4 h-20 bg-[#f9c74f] rounded-t"></div>
                    <div className="w-4 h-16 bg-[#f9c74f] rounded-t"></div>
                    <div className="w-4 h-24 bg-[#f9c74f] rounded-t"></div>
                  </div>
                  <span className="text-xs text-[#9ea2ae]">AI</span>
                </div>
              </div>
              <div className="absolute bottom-0 right-0 text-xs">
                <div className="flex flex-wrap gap-2">
                  <div className="flex items-center gap-1">
                    <div className="w-3 h-3 bg-[#f9c74f] rounded"></div>
                    <span className="text-[#9ea2ae]">2020</span>
                  </div>
                  <div className="flex items-center gap-1">
                    <div className="w-3 h-3 bg-[#f9c74f] rounded"></div>
                    <span className="text-[#9ea2ae]">2021</span>
                  </div>
                  <div className="flex items-center gap-1">
                    <div className="w-3 h-3 bg-[#f9c74f] rounded"></div>
                    <span className="text-[#9ea2ae]">2022</span>
                  </div>
                  <div className="flex items-center gap-1">
                    <div className="w-3 h-3 bg-[#f9c74f] rounded"></div>
                    <span className="text-[#9ea2ae]">2023</span>
                  </div>
                  <div className="flex items-center gap-1">
                    <div className="w-3 h-3 bg-[#f9c74f] rounded"></div>
                    <span className="text-[#9ea2ae]">2024</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </Card>
    );

    const RelevantPoliciesWidget = () => (
      <Card className="custom-border relative p-4">
        <img src="/public/icons/info.svg" alt="Info" className="absolute top-2 right-2 w-4 h-4 cursor-pointer" />
        <div className="flex flex-col gap-5">
          <div className="flex justify-between items-center">
            <h3 className="text-xl text-[#1975d4] font-bold">Relevant Policies & Regulators</h3>
          </div>
          <p className="text-sm text-black">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua...
          </p>
          <div className="flex justify-center items-center gap-4">
            <button aria-label="Previous policy">
              <img src="/public/icons/arrow11.svg" alt="Left Arrow" style={{ width: '24px', height: '24px', cursor: 'pointer' }} />
            </button>
            <Button className="w-72 text-white text-sm">View Full Policy Document</Button>
            <button aria-label="Next policy">
              <img src="/public/icons/arrow11.svg" alt="Right Arrow" style={{ width: '24px', height: '24px', cursor: 'pointer', transform: 'rotate(180deg)' }} />
            </button>
          </div>
        </div>
      </Card>
    );

    const OverallScoreWidget = () => (
      <Card className="custom-border relative p-4">
        <img src="/public/icons/info.svg" alt="Info" className="absolute top-2 right-2 w-4 h-4 cursor-pointer" />
        <div className="flex flex-col gap-2.5 items-center">
          <h3 className="text-xl text-[#1975d4] font-bold">Overall Score: 85</h3>
          <p className="text-sm text-black">Compare use case to the target policies and give an overall score about the compliance level</p>
          <div className="w-full h-70 flex items-center">
            <svg viewBox="0 0 200 200" className="w-full h-full">
              <polygon points="100,20 150,50 170,100 150,150 100,180 50,150 30,100 50,50" fill="none" stroke="#d9d9d9" strokeWidth="1"/>
              <polygon points="100,40 130,60 150,100 130,140 100,160 70,140 50,100 70,60" fill="none" stroke="#d9d9d9" strokeWidth="1"/>
              <polygon points="100,60 110,80 130,100 110,120 100,140 90,120 70,100 90,80" fill="none" stroke="#d9d9d9" strokeWidth="1"/>
              <polygon points="100,30 140,65 160,100 140,135 100,170 60,135 40,100 60,65" fill="#1975d4" fillOpacity="0.3" stroke="#1975d4" strokeWidth="2"/>
              <line x1="100" y1="100" x2="100" y2="20" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="150" y2="50" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="170" y2="100" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="150" y2="150" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="100" y2="180" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="50" y2="150" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="30" y2="100" stroke="#d9d9d9" strokeWidth="1"/>
              <line x1="100" y1="100" x2="50" y2="50" stroke="#d9d9d9" strokeWidth="1"/>
            </svg>
          </div>
        </div>
      </Card>
    );

    const PoliciesRegulatorsWidget = () => (
      <Card className="custom-border relative p-4">
        <img src="/public/icons/info.svg" alt="Info" className="absolute top-2 right-2 w-4 h-4 cursor-pointer" />
        <div className="flex flex-col gap-2.5">
          <h3 className="text-xl text-[#1975d4] font-bold">Relevant Policies & Regulators</h3>
          <p className="text-sm text-black">(pop up relevant information)</p>
          <div className="w-full h-70 flex items-center">
            <div className="h-48 flex items-end justify-center gap-2 mb-4">
              <div className="flex flex-col items-center gap-1">
                <div className="flex gap-1">
                  <div className="w-4 h-8 bg-[#ff928a] rounded-t"></div>
                  <div className="w-4 h-6 bg-[#ffae4c] rounded-t"></div>
                  <div className="w-4 h-10 bg-[#6fd195] rounded-t"></div>
                </div>
                <span className="text-xs text-[#9ea2ae]">2020</span>
              </div>
              <div className="flex flex-col items-center gap-1">
                <div className="flex gap-1">
                  <div className="w-4 h-16 bg-[#ff928a] rounded-t"></div>
                  <div className="w-4 h-8 bg-[#ffae4c] rounded-t"></div>
                  <div className="w-4 h-12 bg-[#6fd195] rounded-t"></div>
                </div>
                <span className="text-xs text-[#9ea2ae]">2021</span>
              </div>
              <div className="flex flex-col items-center gap-1">
                <div className="flex gap-1">
                  <div className="w-4 h-20 bg-[#1975d4] rounded-t"></div>
                </div>
                <span className="text-xs text-[#9ea2ae]">2022</span>
              </div>
              <div className="flex flex-col items-center gap-1">
                <div className="flex gap-1">
                  <div className="w-4 h-14 bg-[#1975d4] rounded-t"></div>
                  <div className="w-4 h-16 bg-[#3cc3df] rounded-t"></div>
                </div>
                <span className="text-xs text-[#9ea2ae]">2023</span>
              </div>
              <div className="flex flex-col items-center gap-1">
                <div className="flex gap-1">
                  <div className="w-4 h-18 bg-[#1975d4] rounded-t"></div>
                  <div className="w-4 h-10 bg-[#6fd195] rounded-t"></div>
                </div>
                <span className="text-xs text-[#9ea2ae]">2024</span>
              </div>
            </div>
            <div className="flex justify-center gap-4 text-xs">
              <div className="flex items-center gap-1">
                <div className="w-3 h-3 bg-[#ff928a] rounded"></div>
                <span className="text-[#9ea2ae]">Figma</span>
              </div>
              <div className="flex items-center gap-1">
                <div className="w-3 h-3 bg-[#1975d4] rounded"></div>
                <span className="text-[#9ea2ae]">AI</span>
              </div>
            </div>
          </div>
        </div>
      </Card>
    );

    const ChatWithMeWidget = () => {
  const [message, setMessage] = useState('');
  const [response, setResponse] = useState('');
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState('');

  const sendMessage = async () => {
    if (!message.trim()) return;

    setLoading(true);
    setError('');
    try {
      const res = await fetch('http://localhost:5002/chat/', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ message })
      });

      const data = await res.json();
      if (res.ok) {
        setResponse(data.reply);
      } else {
        setError('Error: ' + (data.detail || 'Something went wrong.'));
      }
    } catch (err) {
      setError('Network error');
    } finally {
      setLoading(false);
    }
  };

  const handleKeyDown = (e) => {
    if (e.key === 'Enter') {
      sendMessage();
    }
  };

  return (
    <Card className="custom-border relative p-4 h-full flex flex-col justify-between">
      <img src="/public/icons/info.svg" alt="Info" className="absolute top-2 right-2 w-4 h-4 cursor-pointer" />
      <div className="flex flex-col gap-2.5">
        <div className="flex items-center gap-2">
          <div className="w-6 h-6 bg-[#1975d4] rounded-full flex items-center justify-center">
            <span className="text-white text-sm">😊</span>
          </div>
          <h3 className="text-xl text-[#1975d4] font-bold">Chat with Me</h3>
        </div>
        <p className="text-sm text-black">I am Govii, how can I help you with compliance project today?</p>
        {response && (
          <div className="text-sm text-green-700 mt-2 border border-green-300 rounded p-2 bg-green-50">
            <strong>Govii:</strong> {response}
          </div>
        )}
        {error && (
          <div className="text-sm text-red-600 mt-2 border border-red-300 rounded p-2 bg-red-50">
            {error}
          </div>
        )}
      </div>
      <div className="flex items-center border-2 border-gray-300 rounded-full p-2 mt-4">
        <Input
          value={message}
          onChange={(e) => setMessage(e.target.value)}
          onKeyDown={handleKeyDown}
          placeholder="Type Here"
          className="flex-1 text-sm text-gray-700 bg-transparent outline-none"
        />
        <button onClick={sendMessage} className="ml-2">
          {React.createElement(icons["Send"], { className: "w-5 h-5 text-[#1975d4]" })}
        </button>
      </div>
    </Card>
  );
};

    const ExcellenciesMajorGapsWidget = () => (
      <Card className="relative p-6 border-2 border-[#1975d4] rounded-xl">
        <img src="/public/icons/info.svg" alt="Info" className="absolute top-3 right-3 w-4 h-4 cursor-pointer" />
        <div className="flex flex-row gap-10">
          <div className="flex-1">
            <h3 className="text-[#1975d4] text-xl font-bold mb-2">Excellencies</h3>
            <p className="text-black text-base leading-relaxed">
              Identify and list which parts are well-written in the use case,<br />
              compared to the selected policies,<br />
              such as measures to risks.
            </p>
          </div>
          <div className="flex-1">
            <h3 className="text-[#1975d4] text-xl font-bold mb-2">Major Gaps</h3>
            <p className="text-black text-base leading-relaxed">
              Identify and list what are missed in the use case,<br />
              compared to the selected policies.
            </p>
          </div>
        </div>
      </Card>
    );

    const RiskChecklistWidget = () => (
      <Card className="custom-border p-4">
        {React.createElement(icons["Info"], { className: "absolute top-2 right-2 w-4 h-4 cursor-pointer" })}
        <div className="flex flex-col gap-2.5">
          <h3 className="text-xl text-[#1975d4] font-bold">Risk Checklist based on NIST Risk Management</h3>
          <p className="text-sm text-black">
            This HR product is at the pilot stage. According to the NIST Risk Management Framework, this product’s life cycle includes four stages and six major risks. Here is the list for checking:
            <ul className="list-disc pl-5 mt-2">
              <li>Plan and design</li>
              <li>Collect data</li>
              <li>Build the model</li>
            </ul>
          </p>
        </div>
      </Card>
    );

    const StrategyArchitectureWidget = () => (
      <Card className="custom-border p-4">
        {React.createElement(icons["Info"], { className: "absolute top-2 right-2 w-4 h-4 cursor-pointer" })}
        <div className="flex flex-col gap-2.5 items-center">
          <h3 className="text-xl text-[#1975d4] font-bold">Strategy Architecture</h3>
          <div className="w-full h-64 flex items-center justify-center">
            <svg viewBox="0 0 200 200" className="w-full h-full">
              <circle cx="100" cy="100" r="80" fill="#e0f2fe" />
              <circle cx="100" cy="100" r="60" fill="#bae6fd" />
              <circle cx="100" cy="100" r="40" fill="#7dd3fc" />
              <text x="100" y="95" textAnchor="middle" fontSize="12" fill="#000">People and Planet</text>
              <path d="M100 20 A80 80 0 0 1 160 100" stroke="#89c4f4" strokeWidth="20" fill="none" />
              <text x="140" y="60" textAnchor="middle" fontSize="10" fill="#000">Collect and present data</text>
              <path d="M160 100 A80 80 0 0 1 100 180" stroke="#6ee7b7" strokeWidth="20" fill="none" />
              <text x="140" y="140" textAnchor="middle" fontSize="10" fill="#000">Deploy and Use</text>
              <path d="M100 180 A80 80 0 0 1 40 100" stroke="#a3e4db" strokeWidth="20" fill="none" />
              <text x="60" y="140" textAnchor="middle" fontSize="10" fill="#000">Verify and validate</text>
              <path d="M40 100 A80 80 0 0 1 100 20" stroke="#93c5fd" strokeWidth="20" fill="none" />
              <text x="60" y="60" textAnchor="middle" fontSize="10" fill="#000">Plan and Design</text>
            </svg>
          </div>
        </div>
      </Card>
    );

    const RelevantRegulatorsWidget = () => (
      <Card className="custom-border p-4">
        {React.createElement(icons["Info"], { className: "absolute top-2 right-2 w-4 h-4 cursor-pointer" })}
        <div className="flex flex-col gap-2.5">
          <h3 className="text-xl text-[#1975d4] font-bold">Relevant Regulators</h3>
          <p className="text-sm text-black">
            The U.S.A.
            <ul className="list-disc pl-5 mt-2">
              <li>Department of Labor and Employment</li>
              <li>State Labor Development Commission</li>
            </ul>
            EU
            <ul className="list-disc pl-5 mt-2">
              <li>Labor Development Bureau</li>
            </ul>
            Japan
            <ul className="list-disc pl-5 mt-2">
              <li>National Labor Administration</li>
            </ul>
          </p>
        </div>
      </Card>
    );

    const ContactsWidget = () => (
      <Card className="custom-border p-4">
        {React.createElement(icons["Info"], { className: "absolute top-2 right-2 w-4 h-4 cursor-pointer" })}
        <div className="flex flex-col gap-2.5">
          <h3 className="text-xl text-[#1975d4] font-bold">Contacts</h3>
          <p className="text-sm text-black">
            These are the official contact information...
            <br /><br />
            You can also use these channels to provide policy feedback and consultations...
            <br /><br />
            X: ...
            <br />
            TikTok: ...
            <br />
            Website: ...
          </p>
        </div>
      </Card>
    );

    const GenerateConsultationFeedbackWidget = () => (
      <Card className="custom-border p-4">
        {React.createElement(icons["Info"], { className: "absolute top-2 right-2 w-4 h-4 cursor-pointer" })}
        <div className="flex flex-col gap-2.5">
          <h3 className="text-xl text-[#1975d4] font-bold">Generate Consultation/Feedback</h3>
          <p className="text-sm text-black">
            National Institute of Standards and Technology
            <br /><br />
            To whom it may concern,
            <br /><br />
            Casual is an AI startup committed to facilitating talent discovery, hiring, and development. Today, we are writing as the compliance team to provide an opinion on the NIST's recent industry standards consultation. Specifically, today we will be responding to section 1(a) of the policy, concerning "privacy analysis of the AI..."
          </p>
        </div>
      </Card>
    );

    const ComplianceReportWidget = ({ isOpen, onClose, selectedMenuItem }) => {
      const [reports, setReports] = useState([]);

      useEffect(() => {
        if (isOpen && selectedMenuItem === 7) {
          const fetchReports = async () => {
            try {
              const response = await apiRequest('GET', 'http://localhost:5000/regulatory-reports/');
              setReports(Array.isArray(response) ? response : []);
            } catch (err) {
              console.error('Error fetching reports:', err);
            }
          };
          fetchReports();
        }
      }, [isOpen, selectedMenuItem]);

      if (!isOpen) return null;

      return (
        <Card className="custom-border fixed inset-0 bg-white bg-opacity-90 z-50 p-6 overflow-y-auto">
          <div className="flex justify-between items-center mb-4">
            <h3 className="text-xl text-[#1975d4] font-bold">Compliance Report Suite</h3>
            <button onClick={onClose} className="text-[#9ea2ae] hover:text-[#000000] text-2xl">
              ×
            </button>
          </div>
          <div className="grid grid-cols-3 gap-4">
            <UploadProjectWidget selectedMenuItem={selectedMenuItem} />
            <ExplorePolicyWidget selectedMenuItem={selectedMenuItem} />
            <RelevantPoliciesWidget />
            <div>
              <Card className="custom-border p-4">
                <h3 className="text-xl text-[#1975d4] font-bold">Compliance Report Based on the EU AI Act</h3>
                {reports.length > 0 ? (
                  <ul className="list-disc pl-5 mt-2 text-sm text-black">
                    {reports.map((report, index) => (
                      <li key={index}>{report.title || `Report ${index + 1}`}</li>
                    ))}
                  </ul>
                ) : (
                  <p className="text-sm text-black">
                    This HR product does not include Level 3 - High Risk and Level 4 - Unacceptable Risk. However, it may contain Level 2 - Limited Risk given its features such as...
                    <br /><br />
                    Thus, the following measures should be taken into consideration...
                    <br /><br />
                    The EU AI Office also requires AI companies to get these certifications before full launch, including...
                  </p>
                )}
              </Card>
            </div>
            <RiskChecklistWidget />
            <StrategyArchitectureWidget />
          </div>
        </Card>
      );
    };

    const PolicyFeedbackLiaisonReportWidget = ({ isOpen, onClose, selectedMenuItem }) => {
      const [feedback, setFeedback] = useState(null);

      const generateFeedback = async () => {
        const data = {
          project_description: 'An autonomous vehicle project focused on developing self-driving technology for urban environments.',
          countries: ['USA', 'Canada'],
          domains: ['AI', 'Autonomous Vehicles'],
        };
        try {
          const response = await apiRequest('POST', 'http://localhost:5000/regulatory-reports/generate/text/', data);
          setFeedback(response);
        } catch (err) {
          console.error('Error generating feedback:', err);
        }
      };

      if (!isOpen) return null;

      return (
        <Card className="custom-border fixed inset-0 bg-white bg-opacity-90 z-50 p-6 overflow-y-auto">
          <div className="flex justify-between items-center mb-4">
            <h3 className="text-xl text-[#1975d4] font-bold">Policy Feedback & Liaison Report</h3>
            <button onClick={onClose} className="text-[#9ea2ae] hover:text-[#000000] text-2xl">
              ×
            </button>
          </div>
          <div className="grid grid-cols-3 gap-4">
            <UploadProjectWidget selectedMenuItem={selectedMenuItem} />
            <ExplorePolicyWidget selectedMenuItem={selectedMenuItem} />
            <RelevantPoliciesWidget />
            <RelevantRegulatorsWidget />
            <ContactsWidget />
            <div>
              <Card className="p-4">
                <h4 className="text-[#1975d4] font-bold">Generated Feedback</h4>
                {feedback ? (
                  <p className="text-sm text-black">{feedback.summary || 'Feedback generated successfully.'}</p>
                ) : (
                  <Button onClick={generateFeedback} className="w-full text-white text-sm">
                    Generate Feedback
                  </Button>
                )}
              </Card>
            </div>
          </div>
        </Card>
      );
    };

    // Dashboard Component (Your Provided Version with Backend Integration)
    const Dashboard = ({ selectedMenuItem }) => {
      return (
        <div className="grid grid-cols-3 gap-4 p-6">
          {selectedMenuItem === 0 ? ( // Home
            <>
              <UploadProjectWidget selectedMenuItem={selectedMenuItem} />
              <ExplorePolicyWidget selectedMenuItem={selectedMenuItem} />
              <RelevantPoliciesWidget />
              <OverallScoreWidget />
              <PoliciesRegulatorsWidget />
              <ChatWithMeWidget />
              <ExcellenciesMajorGapsWidget />
            </>
          ) : selectedMenuItem === 3 ? ( // Compliance Risk Assessment
            <>
              <UploadProjectWidget selectedMenuItem={selectedMenuItem} />
              <ExplorePolicyWidget selectedMenuItem={selectedMenuItem} />
              <RelevantPoliciesWidget />
              <OECDScoreWidget />
              <NISTAILifecycleWidget />
              <EURiskLevelFrameworkWidget />
              <ExcellenciesMajorGapsWidget />
              <ChatWithMeWidget />
            </>
          ) : selectedMenuItem === 7 ? ( // Generate Compliance Report Suite
            <>
              <UploadProjectWidget selectedMenuItem={selectedMenuItem} />
              <ExplorePolicyWidget selectedMenuItem={selectedMenuItem} />
              <RelevantPoliciesWidget />
              <div>
                <Card className="custom-border p-4">
                  <h3 className="text-xl text-[#1975d4] font-bold">Compliance Report Based on the EU AI Act</h3>
                  <p className="text-sm text-black">
                    This HR product does not include Level 3 - High Risk and Level 4 - Unacceptable Risk. However, it may contain Level 2 - Limited Risk given its features such as...
                    <br /><br />
                    Thus, the following measures should be taken into consideration...
                    <br /><br />
                    The EU AI Office also requires AI companies to get these certifications before full launch, including...
                  </p>
                </Card>
              </div>
              <RiskChecklistWidget />
              <StrategyArchitectureWidget />
            </>
          ) : selectedMenuItem === 8 ? ( // Generate Policy Feedback & Liaison Report
            <>
              <UploadProjectWidget selectedMenuItem={selectedMenuItem} />
              <ExplorePolicyWidget selectedMenuItem={selectedMenuItem} />
              <RelevantPoliciesWidget />
              <RelevantRegulatorsWidget />
              <ContactsWidget />
              <GenerateConsultationFeedbackWidget />
            </>
          ) : selectedMenuItem === 9 ? ( // Use Case 2 - Policy Opportunity Discovery
            <>
              <div className="col-span-3 grid grid-cols-2 gap-4 bg-[#cde8ff] p-4 rounded-xl">
                <UploadProjectWidget selectedMenuItem={selectedMenuItem} />
                <ExplorePolicyWidget selectedMenuItem={selectedMenuItem} />
              </div>
              <div className="col-span-3 mt-4">
                <Card className="bg-white rounded-xl p-4">
                  <h3 className="text-xl text-[#1975d4] font-bold mb-4">Results</h3>
                  <div className="grid grid-cols-2 gap-4">
                    <div className="bg-[#f5f9ff] p-4 rounded-lg">
                      <h4 className="text-[#1975d4] font-bold text-lg mb-2">Government-led Incentives</h4>
                      <p className="text-sm text-black">
                        <strong>Subsidies:</strong>
                        <ul className="list-disc pl-5 mt-1">
                          <li>State Labor Development Commission - Career Development Subsidies</li>
                        </ul>
                        <br />
                        <strong>Investment:</strong>
                        <ul className="list-disc pl-5 mt-1">
                          <li>Federal and Cal launched investment</li>
                        </ul>
                        <br />
                        <strong>National Strategies:</strong>
                        <ul className="list-disc pl-5 mt-1">
                          <li>Singapore listed Employment as one of its core domains to adopt AI</li>
                          <li>UK listed Labor Development as one of its pilot initiatives for AI development</li>
                        </ul>
                      </p>
                    </div>
                    <div className="bg-[#f5f9ff] p-4 rounded-lg">
                      <h4 className="text-[#1975d4] font-bold text-lg mb-2">Application Support</h4>
                      <p className="text-sm text-black">
                        Based on these government-led business opportunities, Cuscal could develop the following strategies to apply for these fundings and credits:
                        <ol className="list-decimal pl-5 mt-2">
                          <li>Engage with state labor commissions for career development grants.</li>
                          <li>Apply for federal investment programs in workforce development.</li>
                          <li>Align product strategy with Singapore and UK’s national AI goals for international eligibility.</li>
                        </ol>
                      </p>
                    </div>
                  </div>
                </Card>
              </div>
            </>
          ) : (
            <>
              <UploadProjectWidget selectedMenuItem={selectedMenuItem} />
              <ExplorePolicyWidget selectedMenuItem={selectedMenuItem} />
              <RelevantPoliciesWidget />
              <OverallScoreWidget />
              <PoliciesRegulatorsWidget />
              <ChatWithMeWidget />
              <ExcellenciesMajorGapsWidget />
            </>
          )}
        </div>
      );
    };

    const App = () => {
      const [projectName, setProjectName] = useState("Project Name");
      const [selectedMenuItem, setSelectedMenuItem] = useState(null);

      return (
        <div className="flex h-screen bg-[#e6f0fa]">
          <Menu projectName={projectName} onSelect={setSelectedMenuItem} />
          <div className="flex-1 flex flex-col">
            <Header projectName={projectName} setProjectName={setProjectName} />
            <Dashboard selectedMenuItem={selectedMenuItem} />
          </div>
        </div>
      );
    };

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>


